{
  "$schema": "https://developer.microsoft.com/json-schemas/fabric/item/report/definition/visualContainer/2.2.0/schema.json",
  "name": "8946310cd90760de2239",
  "position": {
    "x": 944,
    "y": 424,
    "z": 3000,
    "height": 136,
    "width": 200,
    "tabOrder": 4000
  },
  "visual": {
    "visualType": "deneb7E15AEF80B9E4D4F8E12924291ECE89A",
    "query": {
      "queryState": {
        "dataset": {
          "projections": [
            {
              "field": {
                "Aggregation": {
                  "Expression": {
                    "Column": {
                      "Expression": {
                        "SourceRef": {
                          "Entity": "__KK_KPI"
                        }
                      },
                      "Property": "Target"
                    }
                  },
                  "Function": 0
                }
              },
              "queryRef": "Sum(KPI.Target)"
            },
            {
              "field": {
                "Aggregation": {
                  "Expression": {
                    "Column": {
                      "Expression": {
                        "SourceRef": {
                          "Entity": "__KK_KPI"
                        }
                      },
                      "Property": "Score"
                    }
                  },
                  "Function": 0
                }
              },
              "queryRef": "Sum(KPI.Score)"
            },
            {
              "field": {
                "Aggregation": {
                  "Expression": {
                    "Column": {
                      "Expression": {
                        "SourceRef": {
                          "Entity": "__KK_KPI"
                        }
                      },
                      "Property": "NPS"
                    }
                  },
                  "Function": 0
                }
              },
              "queryRef": "Sum(KPI.NPS)"
            }
          ]
        }
      },
      "sortDefinition": {
        "sort": [
          {
            "field": {
              "Aggregation": {
                "Expression": {
                  "Column": {
                    "Expression": {
                      "SourceRef": {
                        "Entity": "__KK_KPI"
                      }
                    },
                    "Property": "Target"
                  }
                },
                "Function": 0
              }
            },
            "direction": "Descending"
          }
        ],
        "isDefaultSort": true
      }
    },
    "objects": {
      "vega": [
        {
          "properties": {
            "provider": {
              "expr": {
                "Literal": {
                  "Value": "'vegaLite'"
                }
              }
            },
            "jsonSpec": {
              "expr": {
                "Literal": {
                  "Value": "'{\n  // Primary data reference (connected to Power BI dataset)\n  \"data\": {\"name\": \"dataset\"},\n\n  // Shared encoding for horizontal positioning (quantitative score axis)\n  \"encoding\": {\n    \"x\": {\n      \"type\": \"quantitative\",   // numeric continuous scale for KPI score\n      \"scale\": {\"nice\": false}, // no automatic rounding of axis domain\n      \"title\": null             // hides default X-axis title\n    }\n  },\n\n  // Layered visual design â€” stacking multiple mark layers to form the KPI card\n  \"layer\": [\n\n    // === LAYER 1: Background bar (full scale baseline) ===\n    {\n      \"mark\": {\n        \"type\": \"bar\",\n        \"color\": \"#ccc\",       // neutral gray background\n        \"size\": 35,            // bar thickness\n        \"yOffset\": 10,         // slight downward shift for visual spacing\n        \"tooltip\": true        // enables tooltip for debugging or insights\n      },\n      \"encoding\": {\n        \"x\": {\"datum\": -100, \"type\": \"quantitative\"}, // left bound\n        \"x2\": {\"datum\": 100, \"type\": \"quantitative\"}, // right bound\n        \"y\": {\"title\": null}                          // no Y-axis title\n      }\n    },\n\n    // === LAYER 2: Red zone (low-performance range) ===\n    {\n      \"mark\": {\n        \"type\": \"bar\",\n        \"color\": \"red\",        // poor performance zone\n        \"size\": 35,\n        \"yOffset\": 10,\n        \"tooltip\": true\n      },\n      \"encoding\": {\n        \"x\": {\"datum\": -100, \"type\": \"quantitative\"}, // start of red zone\n        \"x2\": {\"datum\": 0, \"type\": \"quantitative\"},   // ends at 0 (neutral)\n        \"y\": {\"title\": null}\n      }\n    },\n\n    // === LAYER 3: Yellow zone (mid-performance range) ===\n    {\n      \"mark\": {\n        \"type\": \"bar\",\n        \"color\": \"yellow\",     // moderate / cautionary zone\n        \"size\": 35,\n        \"yOffset\": 10,\n        \"tooltip\": true\n      },\n      \"encoding\": {\n        \"x\": {\"datum\": 0, \"type\": \"quantitative\"},    // starts at neutral\n        \"x2\": {\"datum\": 30, \"type\": \"quantitative\"},  // extends into midrange\n        \"y\": {\"title\": null}\n      }\n    },\n\n    // === LAYER 4: Green zone (high-performance range) ===\n    {\n      \"mark\": {\n        \"type\": \"bar\",\n        \"color\": \"green\",      // target / good performance range\n        \"size\": 35,\n        \"yOffset\": 10,\n        \"tooltip\": true\n      },\n      \"encoding\": {\n        \"x\": {\"datum\": 30, \"type\": \"quantitative\"},   // starts at 30\n        \"x2\": {\"datum\": 100, \"type\": \"quantitative\"}, // extends to upper bound\n        \"y\": {\"title\": null}\n      }\n    },\n\n    // === LAYER 5: Tick marker (current KPI score indicator) ===\n    {\n      \"mark\": {\n        \"type\": \"tick\",\n        \"color\": \"black\",      // score pointer color\n        \"size\": 50,            // length of the tick\n        \"yOffset\": 10,\n        \"thickness\": 2,        // line weight\n        \"tooltip\": true\n      },\n      \"encoding\": {\n        \"x\": {\"field\": \"Score\", \"title\": null} // maps to actual KPI value\n      }\n    },\n\n    // === LAYER 6: Numeric label (shows actual score value above the tick) ===\n    {\n      \"mark\": {\n        \"type\": \"text\",\n        \"color\": \"black\",      // text color\n        \"dx\": 0, \"dy\": 0,\n        \"xOffset\": 0, \"yOffset\": -15, // positioned slightly above tick\n        \"align\": \"center\",     // center text over tick\n        \"baseline\": \"bottom\",\n        \"fontSize\": 14,\n        \"fontWeight\": \"normal\"\n      },\n      \"encoding\": {\n        \"text\": {\"field\": \"Score\"},  // display numeric KPI score\n        \"x\": {\"field\": \"Score\", \"type\": \"quantitative\"} // aligns text to score\n      }\n    },\n\n    // === LAYER 7: KPI label (e.g., metric title: NPS, CSAT, etc.) ===\n    {\n      \"mark\": {\n        \"type\": \"text\",\n        \"color\": \"black\",\n        \"xOffset\": 0,\n        \"yOffset\": -40,        // positioned above the score\n        \"align\": \"right\",      // right-align to visual edge\n        \"baseline\": \"bottom\",\n        \"font\": \"sans-serif\",\n        \"fontSize\": 20,\n        \"fontWeight\": \"normal\"\n      },\n      \"encoding\": {\n        \"x\": {\"datum\": 100},   // fixed position at end of gauge\n        \"text\": {\"datum\": \"NPS\"} // hardcoded metric name label\n      }\n    },\n\n    // === LAYER 8: Secondary title area (empty placeholder for future info) ===\n    {\n      \"mark\": {\n        \"type\": \"text\",\n        \"color\": \"black\",\n        \"xOffset\": 0,\n        \"yOffset\": -40,\n        \"align\": \"right\",\n        \"baseline\": \"top\",\n        \"font\": \"sans-serif\",\n        \"fontSize\": 14,\n        \"fontWeight\": \"normal\"\n      },\n      \"encoding\": {\n        \"x\": {\"datum\": 100} // aligns with KPI label; reserved for subtitle\n      }\n    }\n  ]\n}'"
                }
              }
            },
            "jsonConfig": {
              "expr": {
                "Literal": {
                  "Value": "'{\n  \"autosize\": {\n    \"type\": \"fit\",\n    \"contains\": \"padding\"\n  },\n  \"padding\": {\n    \"top\": 25\n  },\n  \"view\": {\"stroke\": \"transparent\"},\n  \"font\": \"Segoe UI\",\n  \"bar\": {\"color\": \"#CE6C47\"},\n  \"axis\": {\n    \"domain\": false,\n    \"labelColor\": \"#605E5C\",\n    \"labelFontSize\": 12,\n    \"labelPadding\": 5,\n    \"ticks\": false,\n    \"tickCount\": 5,\n    \"titleFontSize\": 14,\n    \"titleFontWeight\": \"bold\",\n    \"titleColor\": \"#605E5C\",\n    \"gridDash\": [1, 5],\n    \"gridColor\": null\n  }\n}'"
                }
              }
            },
            "isNewDialogOpen": {
              "expr": {
                "Literal": {
                  "Value": "false"
                }
              }
            },
            "renderMode": {
              "expr": {
                "Literal": {
                  "Value": "'svg'"
                }
              }
            },
            "version": {
              "expr": {
                "Literal": {
                  "Value": "'6.4.1'"
                }
              }
            }
          }
        }
      ],
      "developer": [
        {
          "properties": {
            "version": {
              "expr": {
                "Literal": {
                  "Value": "'1.8.2.0'"
                }
              }
            }
          }
        }
      ],
      "display": [
        {
          "properties": {}
        }
      ],
      "stateManagement": [
        {
          "properties": {
            "viewportHeight": {
              "expr": {
                "Literal": {
                  "Value": "122D"
                }
              }
            },
            "viewportWidth": {
              "expr": {
                "Literal": {
                  "Value": "186D"
                }
              }
            }
          }
        }
      ]
    },
    "visualContainerObjects": {
      "border": [
        {
          "properties": {
            "show": {
              "expr": {
                "Literal": {
                  "Value": "true"
                }
              }
            },
            "color": {
              "solid": {
                "color": {
                  "expr": {
                    "ThemeDataColor": {
                      "ColorId": 0,
                      "Percent": -0.3
                    }
                  }
                }
              }
            },
            "radius": {
              "expr": {
                "Literal": {
                  "Value": "6D"
                }
              }
            }
          }
        }
      ],
      "dropShadow": [
        {
          "properties": {
            "show": {
              "expr": {
                "Literal": {
                  "Value": "false"
                }
              }
            },
            "color": {
              "solid": {
                "color": {
                  "expr": {
                    "ThemeDataColor": {
                      "ColorId": 0,
                      "Percent": -0.1
                    }
                  }
                }
              }
            },
            "preset": {
              "expr": {
                "Literal": {
                  "Value": "'Center'"
                }
              }
            },
            "angle": {
              "expr": {
                "Literal": {
                  "Value": "0L"
                }
              }
            },
            "shadowDistance": {
              "expr": {
                "Literal": {
                  "Value": "0L"
                }
              }
            },
            "shadowBlur": {
              "expr": {
                "Literal": {
                  "Value": "15L"
                }
              }
            },
            "shadowSpread": {
              "expr": {
                "Literal": {
                  "Value": "3L"
                }
              }
            },
            "transparency": {
              "expr": {
                "Literal": {
                  "Value": "70L"
                }
              }
            }
          }
        }
      ]
    },
    "drillFilterOtherVisuals": true
  },
  "filterConfig": {
    "filters": [
      {
        "name": "Filterc57cab60fc1ae026fbdb",
        "field": {
          "Column": {
            "Expression": {
              "SourceRef": {
                "Entity": "__KK_KPI"
              }
            },
            "Property": "Business Unit"
          }
        },
        "filter": {
          "Version": 2,
          "From": [
            {
              "Name": "k",
              "Entity": "__KK_KPI",
              "Type": 0
            }
          ],
          "Where": [
            {
              "Condition": {
                "In": {
                  "Expressions": [
                    {
                      "Column": {
                        "Expression": {
                          "SourceRef": {
                            "Source": "k"
                          }
                        },
                        "Property": "Business Unit"
                      }
                    }
                  ],
                  "Values": [
                    [
                      {
                        "Literal": {
                          "Value": "'Faculty'"
                        }
                      }
                    ]
                  ]
                }
              }
            }
          ]
        },
        "howCreated": "User"
      }
    ]
  }
}